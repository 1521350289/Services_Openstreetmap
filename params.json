{"name":"Services openstreetmap","body":"# Services_OpenStreetMap\r\nOpenStreetMap is a global project with an aim of collaboratively collecting map\r\ndata. This package aims to make communicating with the OSM API intuitive.\r\n\r\n## Usage\r\n\r\n### Initialisation\r\n\r\nSimply require and initialize the Services_OpenStreetMap class:\r\n\r\n    require_once 'Services/OpenStreetMap.php';\r\n    $osm = new Services_OpenStreetMap();\r\n\r\n### Downloading Data, saving to an OSM file\r\n\r\n    $osm->get(-8.3564758, 52.821022799999994, -7.7330017, 53.0428644);\r\n    file_put_contents(\"area_covered.osm\", $osm->getXml());\r\n\r\n\r\n### Search for a specific POI, in a saved OSM file\r\n    $osm = new Services_OpenStreetMap();\r\n\r\n    $osm->loadXml(\"./osm.osm\");\r\n    $results = $osm->search(array(\"amenity\" => \"pharmacy\"));\r\n    echo \"List of Pharmacies\\n\";\r\n    echo \"==================\\n\\n\";\r\n\r\n    foreach ($results as $result) {\r\n        $name = null;\r\n        $addr_street = null;\r\n        $addr_city = null;\r\n        $addr_country = null;\r\n        $addr_housename = null;\r\n        $addr_housenumber = null;\r\n        $opening_hours = null;\r\n        $phone = null;\r\n\r\n        extract($result);\r\n        $line1 = ($addr_housenumber) ? $addr_housenumber : $addr_housename;\r\n        if ($line1 != null) {\r\n            $line1 .= ', ';\r\n        }\r\n        echo  \"$name\\n{$line1}{$addr_street}\\n$phone\\n$opening_hours\\n\\n\";\r\n    }\r\n\r\n### Get a specific Node\r\n    require_once 'Services/OpenStreetMap.php';\r\n\r\n    $osm = new Services_OpenStreetMap();\r\n\r\n    var_dump($osm->getNode(52245107));\r\n\r\n    Getting specific changesets, ways etc follow the same pattern.\r\n\r\n\r\n### Updating a way, or several.\r\n    require_once 'Services/OpenStreetMap.php';\r\n\r\n    // A password file, is a colon delimited file.\r\n    // Eg. fred@example.com:yabbadabbado\r\n    $config = array('passwordfile' => './credentials');\r\n    $osm = new Services_OpenStreetMap($config);\r\n\r\n    $changeset = $osm->createChangeset();\r\n    $changeset->begin(\"These ways are lit\");\r\n    $ways = $osm->getWays($wayId, $way2Id);\r\n    foreach ($ways as $way) {\r\n        $way->setTag('highway', 'residential');\r\n        $way->setTag('lit', 'yes');\r\n        $changeset->add($way);\r\n    }\r\n    $changeset->commit();\r\n\r\n### Creating a node.\r\n    require_once 'Services/OpenStreetMap.php';\r\n\r\n    // A password file, is a colon delimited file.\r\n    // Eg. fred@example.com:yabbadabbado\r\n    $config = array('passwordfile' => './credentials');\r\n    $osm = new Services_OpenStreetMap($config);\r\n\r\n    $changeset = $osm->createChangeset();\r\n    $changeset->begin(\"Added Acme Vets.\");\r\n    $lat = 52.8638729;\r\n    $lon = -8.1983611;\r\n    $node = $osm->createNode($lat, $lon, array(\r\n        'name' => 'Acme Vets',\r\n        'building' => 'yes',\r\n        'amenity' => 'vet')\r\n    );\r\n    $changeset->add($node);\r\n    $changeset->commit();\r\n\r\n### Working with user information.\r\n\r\n    $config = array(\r\n        'user' => 'fred@example.com',\r\n        'password' => 'w1lma4evah'\r\n    );\r\n\r\n    $osm = new Services_OpenStreetMap($config);\r\n    $user = $osm->getUser();\r\n\r\n    echo 'My OSM Mugshot is at ', $user->getImage(), \"\\n\";\r\n","tagline":"OpenStreetMap is a global project with an aim of collaboratively collecting map data. This package aims to make communicating with the OSM API intuitive.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}